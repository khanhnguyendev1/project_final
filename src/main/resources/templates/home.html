<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>Trang chủ - Cửa hàng Hi-Tech</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
	<style>
		body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
		.content {
            display: flex;
            flex-direction: row;
            justify-content: flex-end;
            gap: 20px;
        }
        .header {
            background-color: #4CAF50;
            color: white;
            text-align: center;
            padding: 1em;
        }

        .banner {
            background-image: url('/images/banner.jpg');
            background-size: cover;
            height: 300px;
            text-align: center;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .banner h1 {
            font-size: 3em;
            font-color: black;
        }

        .add-product {
            text-align: center;
            margin: 20px 0;
        }

        .products {
			display: grid;
			grid-template-columns: repeat(4, 1fr); /* 4 products per row */
			gap: 20px; /* Space between products */
			margin: 20px;
		}

		.product-card {
			border: 1px solid #ddd;
			border-radius: 5px;
			padding: 15px;
			text-align: center;
			box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
		}

		.product-card img {
			width: 100%;
			height: auto;
			border-radius: 5px;
		}

		.product-card:hover {
			transform: scale(1.05);
		}

		.pagination {
			display: flex;
			justify-content: center;
			margin: 20px 0;
		}

		.pagination a {
			margin: 0 5px;
			padding: 10px 15px;
			text-decoration: none;
			color: #007bff;
			border: 1px solid #ddd;
			border-radius: 5px;
		}

		.pagination a.active {
			background-color: #007bff;
			color: white;
			border-color: #007bff;
		}

		.pagination a:hover {
			background-color: #0056b3;
			color: white;
		}

        .footer {
            background-color: #f1f1f1;
            text-align: center;
            padding: 1em;
            margin-top: 20px;
        }

        .button {
            background-color: #4CAF50;
            border: none;
            color: white;
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 10px 2px;
            cursor: pointer;
            border-radius: 5px; /* Rounded corners for buttons */
        }

		.user-info {
            display: flex;
            justify-content: flex-end;
            margin-right: 20px;
            margin-top: 10px;
        }

        .user-info span {
            margin-right: 10px;
            font-weight: bold;
        }

        .user-info a {
            background-color: #4CAF50;
            color: white;
            padding: 8px 15px;
            text-decoration: none;
            border-radius: 5px;
        }

        .user-info a:hover {
            background-color: #45a049;
        }
		.product-image {
    		width: 200px;
    		height: 200px;
    		object-fit: cover;
    		border-radius: 8px;
		}
		.carousel-caption h5 {
    		font-size: 2rem;
    		font-weight: bold;
		}

		.carousel-caption p {
    		font-size: 1.25rem;
		}

		#homeCarousel {
			position: relative;
			width: 100%;
			height: 500px; /* Chiều cao cho carousel */
			overflow: hidden; /* Ẩn phần tràn */
		}

		.carousel-item {
			height: 100%; /* Đặt chiều cao cho từng mục carousel */
		}

		.carousel-item img {
			width: 100%; /* Đặt chiều rộng cho hình ảnh */
			height: 100%; /* Đặt chiều cao cho hình ảnh */
			object-fit: cover; /* Giữ tỷ lệ khung hình */
		}

		.carousel-caption {
			background: rgba(0, 0, 0, 0.5); /* Nền mờ cho caption */
			padding: 10px; /* Padding cho caption */
			border-radius: 5px; /* Bo tròn góc */
		}
		.filter form {
    		display: flex;
    		justify-content: center;
    		margin: 20px 0;
		}

		.filter {
			display: flex;
			flex-direction: column; /* Đặt các phần tử theo chiều dọc */
			align-items: center; /* Căn giữa các phần tử theo chiều ngang */
			justify-content: center; /* Căn giữa các phần tử theo chiều dọc */
			gap: 15px; /* Khoảng cách giữa các phần tử */
			max-width: 400px; /* Giới hạn chiều rộng của form */
			margin: 50px auto; /* Đặt form ở giữa trang với khoảng cách phía trên và dưới */
			padding: 20px;
			background-color: #fff;
			border-radius: 8px;
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
		}

		.filter select,
		.filter button {
			padding: 10px;
			font-size: 16px;
			border: 1px solid #ccc;
			border-radius: 4px;
			width: 100%; /* Đặt chiều rộng của select và button là 100% */
		}

		.filter button {
			background-color: #007bff;
			color: white;
			cursor: pointer;
			transition: background-color 0.3s;
		}

		.filter button:hover {
			background-color: #0056b3;
		}

		/* Tùy chọn cho giao diện trên màn hình rộng */
		@media (min-width: 600px) {
			.filter {
				flex-direction: row; /* Chuyển sang dạng hàng ngang khi màn hình rộng */
				gap: 20px; /* Khoảng cách giữa các phần tử */
			}

			.filter select,
			.filter button {
				width: auto; /* Chiều rộng tự động khi ở dạng row */
			}
		}
	</style>
</head>
<body>
<div class="header">
	<h1>Chào mừng đến với Hi-Tech Store</h1>
	<p>Chuyên cung cấp các sản phẩm máy tính và linh kiện</p>
</div>
<div class="container">
	<div class="content">
		<form th:action="@{/purchase-history(userId=${userId})}" method="GET">
			<button type="submit" class="btn">Xem lịch sử mua hàng</button>
		</form>
	</div>
	<div class="d-flex justify-content-end align-items-center">
		<a href="/cart" class="btn btn-primary" style="font-size: 18px;">
			<i class="bi bi-cart" style="font-size: 24px;"></i> Cart
		</a>
		<div class="user-info">
			<span>Xin chào, <span th:text="${username}">Tên người dùng</span></span>
			<a th:href="@{/login}">Đăng xuất</a>
		</div>
	</div>

	<div class="d-flex justify-content-center my-4">
		<form method="get" action="/home" class="input-group w-50">
			<input type="text" name="search" th:value="${search}" class="form-control" placeholder="Tìm kiếm sản phẩm..." aria-label="Tìm kiếm sản phẩm..." />
			<button class="btn btn-primary" type="submit">Tìm kiếm</button>
		</form>
	</div>
</div>

<div id="homeCarousel" class="carousel slide" data-ride="carousel">
	<ol class="carousel-indicators">
		<li data-target="#homeCarousel" data-slide-to="0" class="active"></li>
		<li data-target="#homeCarousel" data-slide-to="1"></li>
		<li data-target="#homeCarousel" data-slide-to="2"></li>
	</ol>

	<div class="carousel-inner">
		<div class="carousel-item active">
			<img src="images/images.jfif" class="d-block w-100" alt="Banner 1">
		</div>
		<div class="carousel-item">
			<img src="images/images.png" class="d-block w-100" alt="Banner 2">
		</div>
		<div class="carousel-item">
			<img src="images/images3.jpg" class="d-block w-100" alt="Banner 3">
		</div>
	</div>

	<a class="carousel-control-prev" href="#homeCarousel" role="button" data-slide="prev">
		<span class="carousel-control-prev-icon" aria-hidden="true"></span>
		<span class="sr-only">Previous</span>
	</a>
	<a class="carousel-control-next" href="#homeCarousel" role="button" data-slide="next">
		<span class="carousel-control-next-icon" aria-hidden="true"></span>
		<span class="sr-only">Next</span>
	</a>
</div>

<div class="add-product">
	<a href="/products/add" class="button">Thêm sản phẩm mới</a>
</div>
<h2 style="text-align: center; margin: 20px;">Danh sách sản phẩm</h2>
<div class="filter">
	<form action="#" method="get">
		<select name="category">
			<option value="">Tất cả danh mục</option>
			<option th:each="category : ${categories}"
					th:value="${category.id}"
					th:text="${category.name}">
			</option>
		</select>

		<select name="brand">
			<option value="">Tất cả thương hiệu</option>
			<option th:each="brand : ${brands}"
					th:value="${brand.id}"
					th:text="${brand.name}">
			</option>
		</select>

		<button type="submit">Lọc</button>
	</form>
</div>
<div class="products">
	<div th:each="product : ${products}" class="product-card">
		<img th:if="${product.image != null}" th:src="${product.image.url}" alt="Product Image" class="product-image" />
		<h3 th:text="${product.name}">Tên sản phẩm</h3>
		<p><strong>Giá:</strong> $<span th:text="${product.price}">0.00</span></p>
		<p th:text="'Thương hiệu: ' + ${product.brand.name}">Thương hiệu</p>
		<a th:href="@{/products/{id}(id=${product.id})}" class="button">Xem chi tiết</a>
		<a th:href="@{/products/edit/{id}(id=${product.id})}" class="button">Sửa</a>
		<a th:href="@{/products/delete/{id}(id=${product.id})}" class="button" onclick="return confirm('Bạn có chắc chắn muốn xóa sản phẩm này?')">Xóa</a>
		<a th:href="@{/cart/add/{id}(id=${product.id})}" class="button">Thêm vào giỏ hàng</a>
	</div>
</div>

<div class="pagination">
	<a th:each="i : ${#numbers.sequence(1, totalPages)}" th:href="@{/home(page=${i})}" th:text="${i}" th:classappend="${currentPage == i} ? 'active' : ''">1</a>
</div>

<div class="footer">
	<p>&copy; 2024 Hi-Tech Store. Mọi quyền được bảo lưu.</p>
	<p>Liên hệ: support@hitechstore.com | 1800-123-456</p>
</div>
</body>
</html>